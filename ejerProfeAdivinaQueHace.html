<html>

<head>
    <title>
        ADIVINA adivinanza
    </title>
    <!--
 *
 *El código de esta script, es un poco misterioso. Algún programador Clase "C", no ha usado
 *nombres descriptivos y ahora, nos toca pegarnos y descubrir qué narices hace este código,
 *para poder usarlo en nuestro proyecto.
 *
 *
 *Se pide:
 *
 *1) Adivinar la funcionalidad del método adivinaQueHace
 *2) Una vez descubierto, aplicar un nombre apropiado al método
 *3) Idear un método equivalente, pero distinto. Es decir, crear un método
 *que haga lo mismo que adivinaQueHace, pero de otra manera.
 *4) EXTRA: Sólo si resolviste los puntos anteriores, implementa una versión recursiva
-->
    <script language="javascript">

        /**
         * Función que comprueba si una palabra es capicúa (palíndromo, capicúa es solo para números)
         * 
         * 
         * 
         * 
         */
        function comprobarSiEsCapicua() {
            var bd = true;
            var cad = document.getElementById("palabra").value; //palabra campo de texto
            var i = 0; //indice
            var j = cad.length - 1; //tope bucle, 2º indice

            while ((i < j) && (bd)) { //bucle que recorre la palabra desde la primera letra y desde la ultima letra para ver si esas letras
                // son iguales (compara ambas letras)
                if (cad.charAt(i) == cad.charAt(j)) { //si la letra del indice es igual que la última letra de la palabra, sigue recorriendola
                    bd = true;
                } else {
                    bd = false; //si no es igual la letra recorrida a la última letra de la palabra sale del bucle
                }
                i++; //incrementa el indice +1, avanza una letra 
                j--; //resta -1 al segundo indice desde el final de la palabra, retrocede una letra 
            }


            //lo que hace es mirar si todas las letras de la palabra son iguales desde el principio de la palabra y desde
            //el final, es decir, si una palabra es capicua, si es así devuelve true
            console.log("bd = " + bd);
            return bd;
        }

        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        function capicuaEquivalente() {
            let palabra = document.getElementById("palabra").value;
            let capicua = true;
            let j = palabra.length - 1;

            /*SOLUCION CON FOR NORMAL

               for (let i = 0; i < (palabra.length - 1); i++){
               if (palabra.charAt(i) != palabra.charAt(j)) {
                   capicua = false;
                   break;
               }
               j--;
            }*/
            for (let i in palabra) {
                if (palabra.charAt(i) != palabra.charAt(j)) {
                    capicua = false;
                    break;
                }
                j--;
            }
            console.log("capicua = " + capicua);
            return capicua;
        }
    </script>
</head>

<body>
    <label for="palabra">PALABRA</label>
    <input type="text" id="palabra">
    <button onclick="capicuaEquivalente();">Empieza</button>
    <p id="p1"></p>
</body>

</html>